{% load i18n %}
{% load humanize static %}
{% load thumbnail %}

<li class="infinite-item" news-id="{{ news.uuid_id }}">
  <div class="news-container">
    {% thumbnail news.user.picture "x60" as im %}
      <img src="{{ im.url }}" class="pull-left" style="border-radius: 50%;" alt="{% trans 'User Image' %}" class="user-image">
    {% empty %}
      <img src="{% static 'img/user.png' %}" class="pull-left" height="60px" alt="{% trans 'No Profile Picture' %}" />
    {% endthumbnail %}
    <div class="post">
      {% if news.user == request.user %}
        <a href="{% url 'news:delete_news' news.pk %}">
          <i class="fa fa-times pull-right" aria-hidden="true" title="{% trans 'Click to remove this news' %}"></i>
        </a>
      {% endif %}
      <h3>
        <a href="{% url 'users:detail' news.user.username  %}">
          {% if news.user.name %}
            {{ news.user.name|title }}
          {% else %}
            {{ news.user.username|title }}
          {% endif %}
        </a>
        <small>{{ news.timestamp|naturaltime }}</small>
      </h3>
      <p>{{ news }}</p>
      <div class="interaction" id="interaction">
        {% if user in news.get_likers %}
          <a href="#" style="text-decoration: none;"
             class="like unlike"
             title="{% for i in news.get_likers %}{{ i }}&#10;{% endfor %}">
            <i class="fa fa-thumbs-o-up" aria-hidden="true"></i>
            <span class="text">{% trans 'Unlike' %}</span>
            (<span class="like-count">{{ news.count_likers }}</span>)
          </a>
        {% else %}
          <a href="#" style="text-decoration: none;" class="like"
             title="{% for i in news.get_likers %}{{ i }}&#10;{% endfor %}">
            <i class="fa fa-thumbs-o-up" aria-hidden="true"></i>
            <span class="text">{% trans 'Like' %}</span>
            (<span class="like-count">{{ news.count_likers }}</span>)
          </a>
        {% endif %}
        <a href="#" style="text-decoration: none;" class="comment">
          <i class="fa fa-comment-o" aria-hidden="true"></i> {% trans 'Comment' %}
          (<span class="comment-count">{{ news.count_thread }}</span>)
        </a>
      </div>
      <div class="comments">
        <form role="form" method="post" action="#" onsubmit="return false">
          {% csrf_token %}
          <input type="hidden" name="news" value="{{ news.pk }}">
          <input type="text" class="form-control input-sm" placeholder="{% trans 'Write a comment...' %}" name="post" maxlength="280">
        </form>
        <ol class="clearfix">
          {% comment %} Place holder to load feed comments {% endcomment %}
        </ol>
      </div>
    </div>
  </div>
</li>
